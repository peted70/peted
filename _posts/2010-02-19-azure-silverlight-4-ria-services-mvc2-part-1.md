---
layout: post
title: Azure + Silverlight 4 + RIA Services + MVC2 (Part 1)
date: 2010-02-19 18:10
author: peted70
comments: true
categories: [ASP.NET MVC, Azure, RIA Services, Silverlight]
---
<div id="msgcns!4F1B7368284539E5!176" class="bvMsg"><p>by Peter Daukintis </p> <p>The original idea for this post was to see whether this combination of technologies played well together. Whilst the development tools seem to support this scenario I believe that there is, as yet, no support for .NET 4 on Azure (see <a href="http://social.msdn.microsoft.com/Forums/en-US/windowsazure/thread/f9fd7247-0893-447e-bb5a-494bc9543e8a" target="_blank">When .NET 4.0 will be available in Azure ?</a>), so some of this discussion is hypothetical. The first post outlines setting up the development environment.</p> <p>Anyway, first I began by doing what seemed obvious:</p> <p>Having installed the required SDKs and tools for SL4, RIA services and Azure I started VS2010 (Beta 2) and created a new Windows Azure Cloud Service project, chose to add an MVC 2 Web Role by right-clicking on the Web Role folder of the newly created cloud project, added default unit test project and tried running this and it all ran fine. </p> <p>Then, I added a Silverlight 4 project to be hosted in the MVC app. I did this by adding a new project to the solution, choosing Silverlight Navigation Application Project. From the options presented I chose to host the new app in the existing MVC app and I then set the aspx page which was added to the MVC project as the start-up page. Hit F5 and the build system produces this error </p> <p><font color="#80ffff">Error    2    Cloud Service projects currently support Roles that run on .NET Framework version 3.5.  Please set the Target Framework property in the project settings for this Role to .NET Framework 3.5.   </font> <p>So, I can’t get my app running in the Azure Development Fabric due to my dependencies on .NET 4 (I was hoping that the development tools may support this scenario).</p> <p>I decided to prepare the app for when this would be possible and so turned my attention towards RIA Services. It was at this stage that I realised that what I wanted to actually do was to create a Silverlight Business Application rather than a navigation application. This VS template is available when you install the RIA Services Beta. However, I had previously experimented with RIA Services using VS2008 and the corresponding RIA Services installs do not live together (at least, according to the installer as it insists that you remove any previous versions).  So, backing up a little bit, I uninstalled the VS2008 version and re-installed for 2010. I then ran through the above procedure again but chose the Business Application template rather than the navigation one.</p> <p><a href="https://omlweq.bay.livefilestore.com/y1m01SiDVnHnvNe1TlGAA8YE-hSofqX0tr6YD057QEb9feBVYU15jH2ApzhEWmvGaG9AbgbUZoGr2WfRvUbVlSMWbBgZvMfnneWc5PUVz_nsY8SYCfFYZt1-iBrmqLpVv-bSli51FwQG5bpCydXu3ne1w/SLBusAppTemplate[3].png" rel="WLPP"><img style="display:block;float:none;margin-left:auto;margin-right:auto;border-width:0;" title="SLBusAppTemplate" border="0" alt="SLBusAppTemplate" src="https://omlweq.bay.livefilestore.com/y1mX7BTC8a4dPG2Sp62krhWtn9bdArLFRaKJIZG1wS-N1GIpMtdXaOOrxwqnNKE687gtIz0V7q7AZpYnSFy7xiqViy011ORIEwWV3enIdHYkPtrZJUTQ1PZUUhUO3cGVMrlQ9DBVayxAangay3hv5SQ6g/SLBusAppTemplate_thumb[1].png" width="411" height="213" /></a> </p> <p>Having worked through the steps again, the result was very similar except for the addition login control:</p> <p><a href="http://peted.azurewebsites.net/wp-content/uploads/2010/09/slbusinessapp5b35d.png" rel="WLPP"><img style="display:block;float:none;margin-left:auto;margin-right:auto;border-width:0;" title="SLBusinessApp" border="0" alt="SLBusinessApp" src="http://peted.azurewebsites.net/wp-content/uploads/2010/09/slbusinessapp5b35d.png?w=300" width="575" height="356" /></a>  </p> <p></p> <p></p> <p>So, hopefully I am now where I wanted to be, which was to have a solution that can be hosted easily in the cloud (when Azure supports .NET 4) with a development environment in which I can carry out some rapid, test-driven development.</p>  </div>
