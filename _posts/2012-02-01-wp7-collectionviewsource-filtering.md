---
layout: single
title: wp7 Collectionviewsource filtering
date: 2012-02-01 14:23
author: peted70
comments: true
categories: [Windows Phone 7, wp7dev]
---
<p>Having read a recent question on the App Hub Forums I decided to update my previous post on CollectionViewSource <a title="http://babaandthepigman.wordpress.com/2011/07/03/wp7-collectionviewsource-sorting-a-listbox/" href="http://babaandthepigman.wordpress.com/2011/07/03/wp7-collectionviewsource-sorting-a-listbox/">http://babaandthepigman.wordpress.com/2011/07/03/wp7-collectionviewsource-sorting-a-listbox/</a> to enable filtering.</p>  <p>So, I added a text box to enter the filter string,</p>  <p>&#160;</p>  <p><a href="http://peted.azurewebsites.net/wp-content/uploads/2012/02/cvs2.png"><img style="background-image:none;padding-left:0;padding-right:0;display:block;float:none;margin-left:auto;margin-right:auto;padding-top:0;border-width:0;" title="cvs2" border="0" alt="cvs2" src="http://peted.azurewebsites.net/wp-content/uploads/2012/02/cvs2_thumb.png" width="333" height="576" /></a></p>  <p>&#160;</p>  <p>And the following code to implement the filtering…</p>  <blockquote>   <p>&#160;&#160;&#160;&#160; <span style="color:#498091;">private void </span><span style="color:#c7c7a5;">FilterBoxTextChanged</span><span style="color:#d6ded4;">(</span><span style="color:#498091;">object </span><span style="color:#c7c7a5;">sender</span><span style="color:#d6ded4;">, </span><span style="color:#afc81c;">TextChangedEventArgs </span><span style="color:#c7c7a5;">e</span><span style="color:#d6ded4;">)       <br />&#160;&#160;&#160;&#160; {        <br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; </span><span style="color:#c7c7a5;">Source</span><span style="color:gray;">.</span><span style="color:#c7c7a5;">View</span><span style="color:gray;">.</span><span style="color:#c7c7a5;">Filter </span><span style="color:gray;">= </span><span style="color:#c7c7a5;">o </span><span style="color:gray;">=&gt;       <br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; </span><span style="color:#d6ded4;">{       <br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; </span><span style="color:#498091;">var </span><span style="color:#c7c7a5;">item </span><span style="color:gray;">= </span><span style="color:#c7c7a5;">o </span><span style="color:#498091;">as </span><span style="color:#afc81c;">Item</span><span style="color:#d6ded4;">;       <br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; </span><span style="color:#498091;">if </span><span style="color:#d6ded4;">(</span><span style="color:#c7c7a5;">item </span><span style="color:gray;">!= </span><span style="color:#498091;">null</span><span style="color:#d6ded4;">)       <br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; {        <br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; </span><span style="color:#498091;">return </span><span style="color:#c7c7a5;">item</span><span style="color:gray;">.</span><span style="color:#c7c7a5;">Text</span><span style="color:gray;">.</span><span style="color:#c7c7a5;">Contains</span><span style="color:#d6ded4;">(</span><span style="color:#c7c7a5;">filterBox</span><span style="color:gray;">.</span><span style="color:#c7c7a5;">Text</span><span style="color:#d6ded4;">);       <br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; }        <br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; </span><span style="color:#498091;">return false</span><span style="color:#d6ded4;">;       <br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; };        <br />&#160;&#160;&#160;&#160;&#160;&#160;&#160; }</span><span style="color:#d6ded4;"></span></p>    <p>and we get filtered results…</p>    <p>&#160;</p>    <p><a href="http://peted.azurewebsites.net/wp-content/uploads/2012/02/cvs2-2.png"><img style="background-image:none;border-bottom:0;border-left:0;padding-left:0;padding-right:0;display:block;float:none;margin-left:auto;border-top:0;margin-right:auto;border-right:0;padding-top:0;" title="cvs2-2" border="0" alt="cvs2-2" src="http://peted.azurewebsites.net/wp-content/uploads/2012/02/cvs2-2_thumb.png" width="391" height="679" /></a>      <br /></p> </blockquote>  <p>Here’s the updated project <a title="https://skydrive.live.com/redir.aspx?cid=4f1b7368284539e5&amp;resid=4F1B7368284539E5!436&amp;parid=4F1B7368284539E5!123" href="https://skydrive.live.com/redir.aspx?cid=4f1b7368284539e5&amp;resid=4F1B7368284539E5!436&amp;parid=4F1B7368284539E5!123">https://skydrive.live.com/redir.aspx?cid=4f1b7368284539e5&amp;resid=4F1B7368284539E5!436&amp;parid=4F1B7368284539E5!123</a></p>
