---
layout: single
title: Kinect 4 Windows V2 - in the browser
date: 2015-02-11 22:03
author: peted70
comments: true
categories: [browser, c#, javascript, kinect, Kinect, superwebsocket, websockets]
---
<p>For the older Kinect v1.0 there was a sample included with the <a href="http://www.microsoft.com/en-us/download/details.aspx?id=44561" target="_blank">Kinect SDK</a> which provided browser compatibility. The general idea is that the Kinect SDK can be used to retrieve the various Kinect data streams i.e., the RGB stream, body tracking data, etc. and from within a console or desktop app a webserver serves up that data for consumption over localhost by a web app running in the browser. This opens up compatibility with various javascript frameworks such as <a href="http://www.babylonjs.com/" target="_blank">Babylon.js</a> (another option might be to run inside a Windows Store javascript app). The official sample is pretty comprehensive so I thought it might be useful to have something simpler to hand. Anyway, after a bit of searching around I found a few examples for v1.0 but nothing with v2.0 support so I decided to hack one together. This might come in handy at the London Kinect Hackathon on 21st and 22nd March <a href="http://www.eventbrite.co.uk/e/kinecthack-london-tickets-15373679088">REGISTER</a> here. </p> <p>I used <a href="https://superwebsocket.codeplex.com/" target="_blank">SuperWebSocket</a> from within a .NET console app to retrieve the Kinect data and broadcast it to any connected web sockets. The socket server code is simple:</p><script src="https://gist.github.com/peted70/466216b5f92cad551cbe.js"></script> <p><a href="http://peted.azurewebsites.net/wp-content/uploads/2015/02/color.png"><img title="color" style="border-left-width: 0px; border-right-width: 0px; border-bottom-width: 0px; display: inline; border-top-width: 0px" border="0" alt="color" src="http://peted.azurewebsites.net/wp-content/uploads/2015/02/color_thumb.png" width="741" height="406"></a></p> <p>I used a canvas to render the results in the browser â€“ this shows the response to the web app receiving a web socket message:</p><script src="https://gist.github.com/peted70/1f88fc49c0e6143f6b2d.js"></script> <p><a href="http://peted.azurewebsites.net/wp-content/uploads/2015/02/body.png"><img title="body" style="border-left-width: 0px; border-right-width: 0px; border-bottom-width: 0px; display: inline; border-top-width: 0px" border="0" alt="body" src="http://peted.azurewebsites.net/wp-content/uploads/2015/02/body_thumb.png" width="743" height="401"></a></p> <p>Code is here <a title="https://github.com/peted70/kinectv2-webserver" href="https://github.com/peted70/kinectv2-webserver">https://github.com/peted70/kinectv2-webserver</a></p>
