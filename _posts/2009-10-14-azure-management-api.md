---
layout: single
title: Azure Management API
date: 2009-10-14 13:25
author_profile: true
comments: true
categories: [Azure]
header:
    teaserlogo: 'assets/images/'
    teaser: 'assets/images/'
---
<div id="msgcns!4F1B7368284539E5!141" class="bvMsg"><h5>by Peter Daukintis</h5> <p>Disclaimer – the code shown below is not of high quality, does not have any error handling and is shown for educational purposes only.</p> <p>Having hosted an experimental application on the Azure CTP since PDC ‘08 I decided it was time that I stopped putting myself through the process of having to manually upload changes via the Azure Developer Portal. Luckily for me, the Azure Team accelerated my progress by releasing the Azure Management API (see <a href="http://blogs.msdn.com/windowsazure/archive/2009/09/17/introducing-the-windows-azure-service-management-api.aspx">http://blogs.msdn.com/windowsazure/archive/2009/09/17/introducing-the-windows-azure-service-management-api.aspx</a> for an introduction and the docs can be found here <a href="http://msdn.microsoft.com/en-us/library/ee460799.aspx">http://msdn.microsoft.com/en-us/library/ee460799.aspx</a>).</p> <p>My current build system uses CruiseControl.NET and when I kick off a ‘deployment’ build currently I have an MSBuild task that copies the deployment files (.csdef and .cspkg) to Azure Storage. This was an interim step that allows me to keep backups in the cloud and also to be able to select and deploy them easily via the Developer Portal. So, the next step was to develop another MSBuild task which accessed the new management APIs to enable a deploy. (An alternative to this would be to take the approach outlined here <a title="http://blogs.msdn.com/domgreen/archive/2009/09/29/deploying-to-the-cloud-as-part-of-your-daily-build.aspx" href="http://blogs.msdn.com/domgreen/archive/2009/09/29/deploying-to-the-cloud-as-part-of-your-daily-build.aspx">http://blogs.msdn.com/domgreen/archive/2009/09/29/deploying-to-the-cloud-as-part-of-your-daily-build.aspx</a> which uses the csmanage.exe command line tool provided by the Azure Team).</p> <p>Creating an MSBuild task is very straightforward and is documented here <a href="http://msdn.microsoft.com/en-us/library/t9883dzc.aspx">http://msdn.microsoft.com/en-us/library/t9883dzc.aspx</a> and there are plenty of other online resources describing the process.</p> <p>So, on to the code; this is the outline of the MSBuild task, it uses the AzureAccount class to do all of the real work:</p> <div><span style="color:blue;">public class</span><span style="color:#2b91af;">DeployToAzureTask </span>: <span style="color:#2b91af;">Task<br /></span>&#123;<br />    [<span style="color:#2b91af;">Required</span>]<br />    <span style="color:blue;">public string</span>PackageUri &#123; <span style="color:blue;">get</span>; <span style="color:blue;">set</span>; &#125;<br /><br />    [<span style="color:#2b91af;">Required</span>]<br />    <span style="color:blue;">public string</span>ConfigUri &#123; <span style="color:blue;">get</span>; <span style="color:blue;">set</span>; &#125;<br />    <br />    <span style="color:blue;">public override bool </span>Execute()<br />    &#123;<br />        <span style="color:#2b91af;">AzureAccount </span>acct = <span style="color:blue;">new</span><span style="color:#2b91af;">AzureAccount</span>(<span style="color:#a31515;">&quot;cert.cer&quot;</span>, <span style="color:#a31515;">&quot;XXXXXXXX-XXXX-XXXX-XXXX-XXXXXXXXXXXX&quot;</span>);<br /><br />        <span style="color:blue;">if</span>(<span style="color:#2b91af;">Uri</span>.IsWellFormedUriString(PackageUri, <span style="color:#2b91af;">UriKind</span>.Absolute) == <span style="color:blue;">true</span>&amp;&amp;<br />            <span style="color:#2b91af;">Uri</span>.IsWellFormedUriString(ConfigUri, <span style="color:#2b91af;">UriKind</span>.Absolute))<br />        &#123;<br />            acct.Upgrade(<span style="color:#a31515;">&quot;MyServiceName&quot;</span>, <span style="color:#a31515;">&quot;staging&quot;</span>, <span style="color:blue;">new</span><span style="color:#2b91af;">Uri</span>(PackageUri), <span style="color:blue;">new</span><span style="color:#2b91af;">Uri</span>(ConfigUri));<br />            <span style="color:blue;">return true</span>;<br />        &#125;<br /><br />        <span style="color:blue;">return false</span>;<br />    &#125;<br />&#125;</div> <div><br /> </div><a href="http://11011.net/software/vspaste"></a> <p>Some things need to be explained:  <p>The “cert.cer” string is the path location of a self-signed certificate which can be created using IIS or generated using the makecert command line tool as follows:  <p>makecert -r -pe -a sha1 -n &quot;CN=Windows Azure Authentication Certificate&quot; -ss My -len 2048 -sp &quot;Microsoft Enhanced RSA and AES Cryptographic Provider&quot; -sy 24 mycert.cer  <p>and uploaded to your Azure account using the Developer Portal Account tab:  <p><a href="https://dpkpow.bay.livefilestore.com/y1mRJHwRPpvLUs8lYI3DiUlSPq-63WDxScRvyzJQix7Rsu4ed7QJf1RNChV2KFlnylRTVbIZoNVPPbNhkZUjfpftrWkFQijyJJ78ZlJpGRq92hypV5wWjjZqZWyhxMpGkJUj83VSYwpPh_3JizIKjw/APICert[4].png" rel="WLPP"><img style="display:inline;border-width:0;" title="APICert" border="0" alt="APICert" src="http://peted.azurewebsites.net/wp-content/uploads/2010/09/apicert_thumb5b25d.png?w=300" width="510" height="88" /></a>   <p></p> <p></p> <p>The constructor for the AzureAccount class takes a local path to your self-signed certificate and also your Azure account subscription ID (also on the Account tab of the Azure Developer Portal).</p> <p>The Upgrade call takes the name of your service, a string which is either ‘staging’ or ‘production’ and uri’s to the input packages (since I have these uploaded to Azure Storage). </p> <p>So, now to the important part…</p> <p>The upgrade call will replace an existing running hosted service with your new one (when upgrading the staging server this leaves the url exactly the same as before i.e. with the same guid which can be useful if you don’t want to keep publishing the deployed url).</p> <div><span style="color:blue;">public string </span>Upgrade(<span style="color:blue;">string</span>serviceName, <span style="color:blue;">string</span>deploymentSlot, <span style="color:#2b91af;">Uri</span>packageURI, <span style="color:#2b91af;">Uri</span>cfgURI)<br />&#123;<br />    <span style="color:green;">// Download the cfg file to convert to base 64..<br />   </span><span style="color:#2b91af;">WebClient </span>wc = <span style="color:blue;">new</span><span style="color:#2b91af;">WebClient</span>();<br />    <span style="color:blue;">string</span>tempfile = System.IO.<span style="color:#2b91af;">Path</span>.GetTempFileName();<br />    wc.DownloadFile(cfgURI, tempfile);<br /><br />    <span style="color:blue;">byte</span>[] bytes = <span style="color:#2b91af;">File</span>.ReadAllBytes(tempfile);<br />    <span style="color:blue;">string</span>base64Str = <span style="color:#2b91af;">Convert</span>.ToBase64String(bytes);<br /><br />    <span style="color:blue;">if</span>(base64Str != <span style="color:blue;">null</span>)<br />    &#123;<br />        <span style="color:blue;">string</span>lbl = <span style="color:#2b91af;">DateTime</span>.Now.ToString(<span style="color:#a31515;">&quot;MM-dd-yyyyTHH-mm-ss&quot;</span>);<br />        System.Text.<span style="color:#2b91af;">UTF8Encoding</span>enc = <span style="color:blue;">new</span>System.Text.<span style="color:#2b91af;">UTF8Encoding</span>();<br />        <span style="color:blue;">byte</span>[] lblBytes = enc.GetBytes(lbl);<br />        lbl = <span style="color:#2b91af;">Convert</span>.ToBase64String(lblBytes);<br /><br />        <span style="color:#2b91af;">XNamespace </span>ns = <span style="color:#2b91af;">XNamespace</span>.Get(<span style="color:#a31515;">&quot;http://schemas.microsoft.com/windowsazure&quot;</span>);<br />        <span style="color:#2b91af;">XNamespace </span>nsi = <span style="color:#2b91af;">XNamespace</span>.Get(<span style="color:#a31515;">&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span>);<br /><br />        <span style="color:#2b91af;">XDocument </span>doc = <span style="color:blue;">new</span><span style="color:#2b91af;">XDocument</span>(<span style="color:blue;">new</span><span style="color:#2b91af;">XDeclaration</span>(<span style="color:#a31515;">&quot;1.0&quot;</span>, <span style="color:#a31515;">&quot;utf-8&quot;</span>, <span style="color:#a31515;">&quot;no&quot;</span>),<br />                    <span style="color:blue;">new</span><span style="color:#2b91af;">XElement</span>(ns + <span style="color:#a31515;">&quot;UpgradeDeployment&quot;</span>,<br />                    <span style="color:blue;">new</span><span style="color:#2b91af;">XElement</span>(ns + <span style="color:#a31515;">&quot;Mode&quot;</span>, <span style="color:#a31515;">&quot;auto&quot;</span>),<br />                    <span style="color:blue;">new</span><span style="color:#2b91af;">XElement</span>(ns + <span style="color:#a31515;">&quot;PackageUrl&quot;</span>, packageURI.ToString()),<br />                    <span style="color:blue;">new</span><span style="color:#2b91af;">XElement</span>(<span style="color:#a31515;">&quot;RoleToUpgrade&quot;</span>, <span style="color:blue;">new</span><span style="color:#2b91af;">XAttribute</span>(nsi + <span style="color:#a31515;">&quot;nil&quot;</span>, <span style="color:#a31515;">&quot;true&quot;</span>)),<br />                    <span style="color:blue;">new</span><span style="color:#2b91af;">XElement</span>(ns + <span style="color:#a31515;">&quot;Configuration&quot;</span>, base64Str),<br />                    <span style="color:blue;">new</span><span style="color:#2b91af;">XElement</span>(ns + <span style="color:#a31515;">&quot;DeploymentLabel&quot;</span>, lbl)));<br /><br />        <span style="color:#2b91af;">Uri</span>uri = <span style="color:blue;">new</span><span style="color:#2b91af;">Uri</span>(_baseUri, _subscriptionId + <span style="color:#a31515;">&quot;/services/hostedservices/&quot;</span>+ serviceName +<br />            <span style="color:#a31515;">&quot;/deploymentslots/&quot;</span>+ deploymentSlot.ToLower() + <span style="color:#a31515;">&quot;/action=upgrade&quot;</span>);<br /><br />        CreateHttpRequest(uri, <span style="color:#a31515;">&quot;POST&quot;</span>, _cert, _timeout, doc);<br />    &#125;<br /><br />    <span style="color:blue;">return null</span>;<br />&#125;</div> <div> </div><a href="http://11011.net/software/vspaste"></a> <p>So, this function downloads the configuration file from storage and converts it’s contents to base64 as required by the API. Then it bundles all of the inputs up into xml format to be posted to the upgrade api which is documented here <a title="http://msdn.microsoft.com/en-us/library/ee460793.aspx" href="http://msdn.microsoft.com/en-us/library/ee460793.aspx">http://msdn.microsoft.com/en-us/library/ee460793.aspx</a>. When I implemented this exactly as stated in the documentation I couldn’t get the call to succeed so I used Fiddler to check a similar request made by using csmanage.exe and modified the data I was posting based on this. So, there may be some minor inconsistencies between my code and the documentation but this code works at the time of posting.</p> <p>One thing to note is that if you have Fiddler running on your machine when these API calls are made they won’t work as Fiddler won’t know to use your client certificate when it forwards your request. I guess there is a way to configure Fiddler to allow the calls to be made with the correct certificate.</p> <p>The final piece of code required to get this all working is to create the request and check the response:</p> <div><span style="color:blue;">public </span><span style="color:#2b91af;">HttpWebRequest </span>CreateHttpRequest(<span style="color:#2b91af;">Uri</span>uri, <span style="color:blue;">string</span>httpMethod, <br />    <span style="color:#2b91af;">X509Certificate2</span>accessCertificate, <span style="color:#2b91af;">TimeSpan </span>timeout, <span style="color:#2b91af;">XDocument </span>postData)<br />&#123;<br />    <span style="color:#2b91af;">HttpWebRequest </span>request = (<span style="color:#2b91af;">HttpWebRequest</span>)<span style="color:#2b91af;">HttpWebRequest</span>.Create(uri);<br />    request.Timeout = (<span style="color:blue;">int</span>)timeout.TotalMilliseconds;<br />    request.ReadWriteTimeout = (<span style="color:blue;">int</span>)timeout.TotalMilliseconds * 100;<br />    request.Method = httpMethod;<br />    request.ClientCertificates.Add(accessCertificate);<br />    request.Headers.Add(<span style="color:#a31515;">&quot;x-ms-version&quot;</span>, <span style="color:#a31515;">&quot;2009-08-08&quot;</span>);<br />    request.ContentType = <span style="color:#a31515;">&quot;application/xml&quot;</span>;<br />    <span style="color:blue;">if</span>(httpMethod.ToLower() == <span style="color:#a31515;">&quot;post&quot;</span>)<br />    &#123;<br />        <span style="color:#2b91af;">PostWrapper </span>wrapper = <span style="color:blue;">new</span><span style="color:#2b91af;">PostWrapper</span>();<br />        wrapper.postData = postData.ToString();<br />        wrapper.Request = request;<br />        request.BeginGetRequestStream(<span style="color:blue;">new</span><span style="color:#2b91af;">AsyncCallback</span>(ReadCallback), wrapper);<br />    &#125;<br />    <span style="color:blue;">return</span>request;<br />&#125;<br /><br /><span style="color:blue;">private void</span>ReadCallback(<span style="color:#2b91af;">IAsyncResult </span>asynchronousResult)<br />&#123;<br />    <span style="color:#2b91af;">PostWrapper </span>data = (<span style="color:#2b91af;">PostWrapper</span>)asynchronousResult.AsyncState;<br />    <span style="color:#2b91af;">HttpWebRequest </span>request = data.Request;<br /><br />    <span style="color:green;">// End the operation.<br />   </span><span style="color:#2b91af;">Stream</span>postStream = request.EndGetRequestStream(asynchronousResult);<br /><br />    <span style="color:blue;">string</span>sData = data.postData.ToString();<br />    System.Text.<span style="color:#2b91af;">UTF8Encoding</span>enc = <span style="color:blue;">new</span>System.Text.<span style="color:#2b91af;">UTF8Encoding</span>();<br />    <span style="color:blue;">byte</span>[] stringBytes = enc.GetBytes(sData);<br />    <br />    postStream.Write(stringBytes, 0, stringBytes.Length);<br />    postStream.Close();<br /><br />    request.BeginGetResponse(<span style="color:blue;">new</span><span style="color:#2b91af;">AsyncCallback</span>(ResponseCallback), request);<br />&#125;<br /><br /><span style="color:blue;">private void</span>ResponseCallback(<span style="color:#2b91af;">IAsyncResult </span>asynchronousResult)<br />&#123;<br />    <span style="color:#2b91af;">HttpWebRequest </span>req = asynchronousResult.AsyncState <span style="color:blue;">as</span><span style="color:#2b91af;">HttpWebRequest</span>;<br />    <span style="color:blue;">if</span>(req != <span style="color:blue;">null</span>)<br />    &#123;<br />        <span style="color:#2b91af;">WebResponse </span>resp = req.EndGetResponse(asynchronousResult);<br />        <span style="color:green;">//resp.<br />       </span><span style="color:blue;">string</span>trackingId = resp.Headers.Get(<span style="color:#a31515;">&quot;x-ms-request-id&quot;</span>);<br /><br />        startPollingOperation(trackingId);<br />    &#125;<br />&#125;</div> <div> </div><a href="http://11011.net/software/vspaste"></a> <p>The response received in the ResponseCallback method returns an ID string which you can then use to track the status of the operation. I haven’t got this bit working yet so haven’t provided a definition for startPollingOperation. This is not necessary for my build task as I am just happy to start the operation rolling. I am also developing a wpf application that uses this code and I will probably update it to call other parts of the API as I need them.</p> <p></p>Technorati Tags: <a href="http://technorati.com/tags/Azure" rel="tag">Azure</a>,<a href="http://technorati.com/tags/Management" rel="tag">Management</a>,<a href="http://technorati.com/tags/Disclaimer" rel="tag">Disclaimer</a>,<a href="http://technorati.com/tags/code" rel="tag">code</a>,<a href="http://technorati.com/tags/error" rel="tag">error</a>,<a href="http://technorati.com/tags/Developer" rel="tag">Developer</a>,<a href="http://technorati.com/tags/Portal" rel="tag">Portal</a>,<a href="http://technorati.com/tags/Team" rel="tag">Team</a>,<a href="http://technorati.com/tags/archive" rel="tag">archive</a>,<a href="http://technorati.com/tags/introduction" rel="tag">introduction</a>,<a href="http://technorati.com/tags/library" rel="tag">library</a>,<a href="http://technorati.com/tags/system" rel="tag">system</a>,<a href="http://technorati.com/tags/CruiseControl" rel="tag">CruiseControl</a>,<a href="http://technorati.com/tags/deployment" rel="tag">deployment</a>,<a href="http://technorati.com/tags/MSBuild" rel="tag">MSBuild</a>,<a href="http://technorati.com/tags/task" rel="tag">task</a>,<a href="http://technorati.com/tags/files" rel="tag">files</a>,<a href="http://technorati.com/tags/Storage" rel="tag">Storage</a>,<a href="http://technorati.com/tags/APIs" rel="tag">APIs</a>,<a href="http://technorati.com/tags/tool" rel="tag">tool</a>,<a href="http://technorati.com/tags/AzureAccount" rel="tag">AzureAccount</a>,<a href="http://technorati.com/tags/DeployToAzureTask" rel="tag">DeployToAzureTask</a>,<a href="http://technorati.com/tags/PackageUri" rel="tag">PackageUri</a>,<a href="http://technorati.com/tags/ConfigUri" rel="tag">ConfigUri</a>,<a href="http://technorati.com/tags/Execute" rel="tag">Execute</a>,<a href="http://technorati.com/tags/cert" rel="tag">cert</a>,<a href="http://technorati.com/tags/XXXXXXXX" rel="tag">XXXXXXXX</a>,<a href="http://technorati.com/tags/XXXX" rel="tag">XXXX</a>,<a href="http://technorati.com/tags/XXXXXXXXXXXX" rel="tag">XXXXXXXXXXXX</a>,<a href="http://technorati.com/tags/Absolute" rel="tag">Absolute</a>,<a href="http://technorati.com/tags/Upgrade" rel="tag">Upgrade</a>,<a href="http://technorati.com/tags/MyServiceName" rel="tag">MyServiceName</a>,<a href="http://technorati.com/tags/Some" rel="tag">Some</a>,<a href="http://technorati.com/tags/path" rel="tag">path</a>,<a href="http://technorati.com/tags/location" rel="tag">location</a>,<a href="http://technorati.com/tags/self" rel="tag">self</a>,<a href="http://technorati.com/tags/certificate" rel="tag">certificate</a>,<a href="http://technorati.com/tags/Authentication" rel="tag">Authentication</a>,<a href="http://technorati.com/tags/Microsoft" rel="tag">Microsoft</a>,<a href="http://technorati.com/tags/Cryptographic" rel="tag">Cryptographic</a>,<a href="http://technorati.com/tags/Provider" rel="tag">Provider</a>,<a href="http://technorati.com/tags/account" rel="tag">account</a>,<a href="http://technorati.com/tags/subscription" rel="tag">subscription</a>,<a href="http://technorati.com/tags/production" rel="tag">production</a>,<a href="http://technorati.com/tags/packages" rel="tag">packages</a>,<a href="http://technorati.com/tags/server" rel="tag">server</a>,<a href="http://technorati.com/tags/Download" rel="tag">Download</a>,<a href="http://technorati.com/tags/WebClient" rel="tag">WebClient</a>,<a href="http://technorati.com/tags/GetTempFileName" rel="tag">GetTempFileName</a>,<a href="http://technorati.com/tags/DownloadFile" rel="tag">DownloadFile</a>,<a href="http://technorati.com/tags/File" rel="tag">File</a>,<a href="http://technorati.com/tags/ReadAllBytes" rel="tag">ReadAllBytes</a>,<a href="http://technorati.com/tags/Convert" rel="tag">Convert</a>,<a href="http://technorati.com/tags/DateTime" rel="tag">DateTime</a>,<a href="http://technorati.com/tags/Text" rel="tag">Text</a>,<a href="http://technorati.com/tags/GetBytes" rel="tag">GetBytes</a>,<a href="http://technorati.com/tags/XNamespace" rel="tag">XNamespace</a>,<a href="http://technorati.com/tags/XMLSchema" rel="tag">XMLSchema</a>,<a href="http://technorati.com/tags/instance" rel="tag">instance</a>,<a href="http://technorati.com/tags/XDocument" rel="tag">XDocument</a>,<a href="http://technorati.com/tags/XDeclaration" rel="tag">XDeclaration</a>,<a href="http://technorati.com/tags/XElement" rel="tag">XElement</a>,<a href="http://technorati.com/tags/UpgradeDeployment" rel="tag">UpgradeDeployment</a>,<a href="http://technorati.com/tags/Mode" rel="tag">Mode</a>,<a href="http://technorati.com/tags/PackageUrl" rel="tag">PackageUrl</a>,<a href="http://technorati.com/tags/RoleToUpgrade" rel="tag">RoleToUpgrade</a>,<a href="http://technorati.com/tags/XAttribute" rel="tag">XAttribute</a>,<a href="http://technorati.com/tags/Configuration" rel="tag">Configuration</a>,<a href="http://technorati.com/tags/DeploymentLabel" rel="tag">DeploymentLabel</a>,<a href="http://technorati.com/tags/_baseUri" rel="tag">_baseUri</a>,<a href="http://technorati.com/tags/_subscriptionId" rel="tag">_subscriptionId</a>,<a href="http://technorati.com/tags/services" rel="tag">services</a>,<a href="http://technorati.com/tags/ToLower" rel="tag">ToLower</a>,<a href="http://technorati.com/tags/action" rel="tag">action</a>,<a href="http://technorati.com/tags/CreateHttpRequest" rel="tag">CreateHttpRequest</a>,<a href="http://technorati.com/tags/POST" rel="tag">POST</a>,<a href="http://technorati.com/tags/_cert" rel="tag">_cert</a>,<a href="http://technorati.com/tags/_timeout" rel="tag">_timeout</a>,<a href="http://technorati.com/tags/contents" rel="tag">contents</a>,<a href="http://technorati.com/tags/documentation" rel="tag">documentation</a>,<a href="http://technorati.com/tags/Fiddler" rel="tag">Fiddler</a>,<a href="http://technorati.com/tags/data" rel="tag">data</a>,<a href="http://technorati.com/tags/machine" rel="tag">machine</a>,<a href="http://technorati.com/tags/client" rel="tag">client</a>,<a href="http://technorati.com/tags/piece" rel="tag">piece</a>,<a href="http://technorati.com/tags/response" rel="tag">response</a>,<a href="http://technorati.com/tags/HttpWebRequest" rel="tag">HttpWebRequest</a>,<a href="http://technorati.com/tags/TimeSpan" rel="tag">TimeSpan</a>,<a href="http://technorati.com/tags/timeout" rel="tag">timeout</a>,<a href="http://technorati.com/tags/Create" rel="tag">Create</a>,<a href="http://technorati.com/tags/TotalMilliseconds" rel="tag">TotalMilliseconds</a>,<a href="http://technorati.com/tags/ReadWriteTimeout" rel="tag">ReadWriteTimeout</a>,<a href="http://technorati.com/tags/Method" rel="tag">Method</a>,<a href="http://technorati.com/tags/ClientCertificates" rel="tag">ClientCertificates</a>,<a href="http://technorati.com/tags/Headers" rel="tag">Headers</a>,<a href="http://technorati.com/tags/version" rel="tag">version</a>,<a href="http://technorati.com/tags/ContentType" rel="tag">ContentType</a>,<a href="http://technorati.com/tags/PostWrapper" rel="tag">PostWrapper</a>,<a href="http://technorati.com/tags/wrapper" rel="tag">wrapper</a>,<a href="http://technorati.com/tags/Request" rel="tag">Request</a>,<a href="http://technorati.com/tags/BeginGetRequestStream" rel="tag">BeginGetRequestStream</a>,<a href="http://technorati.com/tags/AsyncCallback" rel="tag">AsyncCallback</a>,<a href="http://technorati.com/tags/ReadCallback" rel="tag">ReadCallback</a>,<a href="http://technorati.com/tags/IAsyncResult" rel="tag">IAsyncResult</a>,<a href="http://technorati.com/tags/AsyncState" rel="tag">AsyncState</a>,<a href="http://technorati.com/tags/operation" rel="tag">operation</a>,<a href="http://technorati.com/tags/Stream" rel="tag">Stream</a>,<a href="http://technorati.com/tags/EndGetRequestStream" rel="tag">EndGetRequestStream</a>,<a href="http://technorati.com/tags/Write" rel="tag">Write</a>,<a href="http://technorati.com/tags/Length" rel="tag">Length</a>,<a href="http://technorati.com/tags/Close" rel="tag">Close</a>,<a href="http://technorati.com/tags/BeginGetResponse" rel="tag">BeginGetResponse</a>,<a href="http://technorati.com/tags/ResponseCallback" rel="tag">ResponseCallback</a>,<a href="http://technorati.com/tags/WebResponse" rel="tag">WebResponse</a>,<a href="http://technorati.com/tags/EndGetResponse" rel="tag">EndGetResponse</a>,<a href="http://technorati.com/tags/status" rel="tag">status</a>,<a href="http://technorati.com/tags/haven" rel="tag">haven</a>,<a href="http://technorati.com/tags/definition" rel="tag">definition</a>,<a href="http://technorati.com/tags/purposes" rel="tag">purposes</a>,<a href="http://technorati.com/tags/backups" rel="tag">backups</a>,<a href="http://technorati.com/tags/inconsistencies" rel="tag">inconsistencies</a>,<a href="http://technorati.com/tags/blogs" rel="tag">blogs</a>,<a href="http://technorati.com/tags/msdn" rel="tag">msdn</a>,<a href="http://technorati.com/tags/windowsazure" rel="tag">windowsazure</a>,<a href="http://technorati.com/tags/aspx" rel="tag">aspx</a>,<a href="http://technorati.com/tags/csmanage" rel="tag">csmanage</a>,<a href="http://technorati.com/tags/acct" rel="tag">acct</a>,<a href="http://technorati.com/tags/makecert" rel="tag">makecert</a>,<a href="http://technorati.com/tags/serviceName" rel="tag">serviceName</a>,<a href="http://technorati.com/tags/deploymentSlot" rel="tag">deploymentSlot</a>,<a href="http://technorati.com/tags/cfgURI" rel="tag">cfgURI</a>,<a href="http://technorati.com/tags/tempfile" rel="tag">tempfile</a>,<a href="http://technorati.com/tags/byte" rel="tag">byte</a>,<a href="http://technorati.com/tags/bytes" rel="tag">bytes</a>,<a href="http://technorati.com/tags/lblBytes" rel="tag">lblBytes</a>,<a href="http://technorati.com/tags/httpMethod" rel="tag">httpMethod</a>,<a href="http://technorati.com/tags/accessCertificate" rel="tag">accessCertificate</a>,<a href="http://technorati.com/tags/postData" rel="tag">postData</a>,<a href="http://technorati.com/tags/asynchronousResult" rel="tag">asynchronousResult</a>,<a href="http://technorati.com/tags/postStream" rel="tag">postStream</a>,<a href="http://technorati.com/tags/sData" rel="tag">sData</a>,<a href="http://technorati.com/tags/stringBytes" rel="tag">stringBytes</a>,<a href="http://technorati.com/tags/resp" rel="tag">resp</a>,<a href="http://technorati.com/tags/trackingId" rel="tag">trackingId</a>,<a href="http://technorati.com/tags/startPollingOperation" rel="tag">startPollingOperation</a><br /> <p></p>Windows Live Tags: <a href="http://windows.live.com/connect/tag/Azure" rel="clubhouseTag">Azure</a>,<a href="http://windows.live.com/connect/tag/Management" rel="clubhouseTag">Management</a>,<a href="http://windows.live.com/connect/tag/Disclaimer" rel="clubhouseTag">Disclaimer</a>,<a href="http://windows.live.com/connect/tag/code" rel="clubhouseTag">code</a>,<a href="http://windows.live.com/connect/tag/error" rel="clubhouseTag">error</a>,<a href="http://windows.live.com/connect/tag/Developer" rel="clubhouseTag">Developer</a>,<a href="http://windows.live.com/connect/tag/Portal" rel="clubhouseTag">Portal</a>,<a href="http://windows.live.com/connect/tag/Team" rel="clubhouseTag">Team</a>,<a href="http://windows.live.com/connect/tag/archive" rel="clubhouseTag">archive</a>,<a href="http://windows.live.com/connect/tag/introduction" rel="clubhouseTag">introduction</a>,<a href="http://windows.live.com/connect/tag/library" rel="clubhouseTag">library</a>,<a href="http://windows.live.com/connect/tag/system" rel="clubhouseTag">system</a>,<a href="http://windows.live.com/connect/tag/CruiseControl" rel="clubhouseTag">CruiseControl</a>,<a href="http://windows.live.com/connect/tag/deployment" rel="clubhouseTag">deployment</a>,<a href="http://windows.live.com/connect/tag/MSBuild" rel="clubhouseTag">MSBuild</a>,<a href="http://windows.live.com/connect/tag/task" rel="clubhouseTag">task</a>,<a href="http://windows.live.com/connect/tag/files" rel="clubhouseTag">files</a>,<a href="http://windows.live.com/connect/tag/Storage" rel="clubhouseTag">Storage</a>,<a href="http://windows.live.com/connect/tag/APIs" rel="clubhouseTag">APIs</a>,<a href="http://windows.live.com/connect/tag/tool" rel="clubhouseTag">tool</a>,<a href="http://windows.live.com/connect/tag/AzureAccount" rel="clubhouseTag">AzureAccount</a>,<a href="http://windows.live.com/connect/tag/DeployToAzureTask" rel="clubhouseTag">DeployToAzureTask</a>,<a href="http://windows.live.com/connect/tag/PackageUri" rel="clubhouseTag">PackageUri</a>,<a href="http://windows.live.com/connect/tag/ConfigUri" rel="clubhouseTag">ConfigUri</a>,<a href="http://windows.live.com/connect/tag/Execute" rel="clubhouseTag">Execute</a>,<a href="http://windows.live.com/connect/tag/cert" rel="clubhouseTag">cert</a>,<a href="http://windows.live.com/connect/tag/XXXXXXXX" rel="clubhouseTag">XXXXXXXX</a>,<a href="http://windows.live.com/connect/tag/XXXX" rel="clubhouseTag">XXXX</a>,<a href="http://windows.live.com/connect/tag/XXXXXXXXXXXX" rel="clubhouseTag">XXXXXXXXXXXX</a>,<a href="http://windows.live.com/connect/tag/Absolute" rel="clubhouseTag">Absolute</a>,<a href="http://windows.live.com/connect/tag/Upgrade" rel="clubhouseTag">Upgrade</a>,<a href="http://windows.live.com/connect/tag/MyServiceName" rel="clubhouseTag">MyServiceName</a>,<a href="http://windows.live.com/connect/tag/Some" rel="clubhouseTag">Some</a>,<a href="http://windows.live.com/connect/tag/path" rel="clubhouseTag">path</a>,<a href="http://windows.live.com/connect/tag/location" rel="clubhouseTag">location</a>,<a href="http://windows.live.com/connect/tag/self" rel="clubhouseTag">self</a>,<a href="http://windows.live.com/connect/tag/certificate" rel="clubhouseTag">certificate</a>,<a href="http://windows.live.com/connect/tag/Authentication" rel="clubhouseTag">Authentication</a>,<a href="http://windows.live.com/connect/tag/Microsoft" rel="clubhouseTag">Microsoft</a>,<a href="http://windows.live.com/connect/tag/Cryptographic" rel="clubhouseTag">Cryptographic</a>,<a href="http://windows.live.com/connect/tag/Provider" rel="clubhouseTag">Provider</a>,<a href="http://windows.live.com/connect/tag/account" rel="clubhouseTag">account</a>,<a href="http://windows.live.com/connect/tag/subscription" rel="clubhouseTag">subscription</a>,<a href="http://windows.live.com/connect/tag/production" rel="clubhouseTag">production</a>,<a href="http://windows.live.com/connect/tag/packages" rel="clubhouseTag">packages</a>,<a href="http://windows.live.com/connect/tag/server" rel="clubhouseTag">server</a>,<a href="http://windows.live.com/connect/tag/Download" rel="clubhouseTag">Download</a>,<a href="http://windows.live.com/connect/tag/WebClient" rel="clubhouseTag">WebClient</a>,<a href="http://windows.live.com/connect/tag/GetTempFileName" rel="clubhouseTag">GetTempFileName</a>,<a href="http://windows.live.com/connect/tag/DownloadFile" rel="clubhouseTag">DownloadFile</a>,<a href="http://windows.live.com/connect/tag/File" rel="clubhouseTag">File</a>,<a href="http://windows.live.com/connect/tag/ReadAllBytes" rel="clubhouseTag">ReadAllBytes</a>,<a href="http://windows.live.com/connect/tag/Convert" rel="clubhouseTag">Convert</a>,<a href="http://windows.live.com/connect/tag/DateTime" rel="clubhouseTag">DateTime</a>,<a href="http://windows.live.com/connect/tag/Text" rel="clubhouseTag">Text</a>,<a href="http://windows.live.com/connect/tag/GetBytes" rel="clubhouseTag">GetBytes</a>,<a href="http://windows.live.com/connect/tag/XNamespace" rel="clubhouseTag">XNamespace</a>,<a href="http://windows.live.com/connect/tag/XMLSchema" rel="clubhouseTag">XMLSchema</a>,<a href="http://windows.live.com/connect/tag/instance" rel="clubhouseTag">instance</a>,<a href="http://windows.live.com/connect/tag/XDocument" rel="clubhouseTag">XDocument</a>,<a href="http://windows.live.com/connect/tag/XDeclaration" rel="clubhouseTag">XDeclaration</a>,<a href="http://windows.live.com/connect/tag/XElement" rel="clubhouseTag">XElement</a>,<a href="http://windows.live.com/connect/tag/UpgradeDeployment" rel="clubhouseTag">UpgradeDeployment</a>,<a href="http://windows.live.com/connect/tag/Mode" rel="clubhouseTag">Mode</a>,<a href="http://windows.live.com/connect/tag/PackageUrl" rel="clubhouseTag">PackageUrl</a>,<a href="http://windows.live.com/connect/tag/RoleToUpgrade" rel="clubhouseTag">RoleToUpgrade</a>,<a href="http://windows.live.com/connect/tag/XAttribute" rel="clubhouseTag">XAttribute</a>,<a href="http://windows.live.com/connect/tag/Configuration" rel="clubhouseTag">Configuration</a>,<a href="http://windows.live.com/connect/tag/DeploymentLabel" rel="clubhouseTag">DeploymentLabel</a>,<a href="http://windows.live.com/connect/tag/_baseUri" rel="clubhouseTag">_baseUri</a>,<a href="http://windows.live.com/connect/tag/_subscriptionId" rel="clubhouseTag">_subscriptionId</a>,<a href="http://windows.live.com/connect/tag/services" rel="clubhouseTag">services</a>,<a href="http://windows.live.com/connect/tag/ToLower" rel="clubhouseTag">ToLower</a>,<a href="http://windows.live.com/connect/tag/action" rel="clubhouseTag">action</a>,<a href="http://windows.live.com/connect/tag/CreateHttpRequest" rel="clubhouseTag">CreateHttpRequest</a>,<a href="http://windows.live.com/connect/tag/POST" rel="clubhouseTag">POST</a>,<a href="http://windows.live.com/connect/tag/_cert" rel="clubhouseTag">_cert</a>,<a href="http://windows.live.com/connect/tag/_timeout" rel="clubhouseTag">_timeout</a>,<a href="http://windows.live.com/connect/tag/contents" rel="clubhouseTag">contents</a>,<a href="http://windows.live.com/connect/tag/documentation" rel="clubhouseTag">documentation</a>,<a href="http://windows.live.com/connect/tag/Fiddler" rel="clubhouseTag">Fiddler</a>,<a href="http://windows.live.com/connect/tag/data" rel="clubhouseTag">data</a>,<a href="http://windows.live.com/connect/tag/machine" rel="clubhouseTag">machine</a>,<a href="http://windows.live.com/connect/tag/client" rel="clubhouseTag">client</a>,<a href="http://windows.live.com/connect/tag/piece" rel="clubhouseTag">piece</a>,<a href="http://windows.live.com/connect/tag/response" rel="clubhouseTag">response</a>,<a href="http://windows.live.com/connect/tag/HttpWebRequest" rel="clubhouseTag">HttpWebRequest</a>,<a href="http://windows.live.com/connect/tag/TimeSpan" rel="clubhouseTag">TimeSpan</a>,<a href="http://windows.live.com/connect/tag/timeout" rel="clubhouseTag">timeout</a>,<a href="http://windows.live.com/connect/tag/Create" rel="clubhouseTag">Create</a>,<a href="http://windows.live.com/connect/tag/TotalMilliseconds" rel="clubhouseTag">TotalMilliseconds</a>,<a href="http://windows.live.com/connect/tag/ReadWriteTimeout" rel="clubhouseTag">ReadWriteTimeout</a>,<a href="http://windows.live.com/connect/tag/Method" rel="clubhouseTag">Method</a>,<a href="http://windows.live.com/connect/tag/ClientCertificates" rel="clubhouseTag">ClientCertificates</a>,<a href="http://windows.live.com/connect/tag/Headers" rel="clubhouseTag">Headers</a>,<a href="http://windows.live.com/connect/tag/version" rel="clubhouseTag">version</a>,<a href="http://windows.live.com/connect/tag/ContentType" rel="clubhouseTag">ContentType</a>,<a href="http://windows.live.com/connect/tag/PostWrapper" rel="clubhouseTag">PostWrapper</a>,<a href="http://windows.live.com/connect/tag/wrapper" rel="clubhouseTag">wrapper</a>,<a href="http://windows.live.com/connect/tag/Request" rel="clubhouseTag">Request</a>,<a href="http://windows.live.com/connect/tag/BeginGetRequestStream" rel="clubhouseTag">BeginGetRequestStream</a>,<a href="http://windows.live.com/connect/tag/AsyncCallback" rel="clubhouseTag">AsyncCallback</a>,<a href="http://windows.live.com/connect/tag/ReadCallback" rel="clubhouseTag">ReadCallback</a>,<a href="http://windows.live.com/connect/tag/IAsyncResult" rel="clubhouseTag">IAsyncResult</a>,<a href="http://windows.live.com/connect/tag/AsyncState" rel="clubhouseTag">AsyncState</a>,<a href="http://windows.live.com/connect/tag/operation" rel="clubhouseTag">operation</a>,<a href="http://windows.live.com/connect/tag/Stream" rel="clubhouseTag">Stream</a>,<a href="http://windows.live.com/connect/tag/EndGetRequestStream" rel="clubhouseTag">EndGetRequestStream</a>,<a href="http://windows.live.com/connect/tag/Write" rel="clubhouseTag">Write</a>,<a href="http://windows.live.com/connect/tag/Length" rel="clubhouseTag">Length</a>,<a href="http://windows.live.com/connect/tag/Close" rel="clubhouseTag">Close</a>,<a href="http://windows.live.com/connect/tag/BeginGetResponse" rel="clubhouseTag">BeginGetResponse</a>,<a href="http://windows.live.com/connect/tag/ResponseCallback" rel="clubhouseTag">ResponseCallback</a>,<a href="http://windows.live.com/connect/tag/WebResponse" rel="clubhouseTag">WebResponse</a>,<a href="http://windows.live.com/connect/tag/EndGetResponse" rel="clubhouseTag">EndGetResponse</a>,<a href="http://windows.live.com/connect/tag/status" rel="clubhouseTag">status</a>,<a href="http://windows.live.com/connect/tag/haven" rel="clubhouseTag">haven</a>,<a href="http://windows.live.com/connect/tag/definition" rel="clubhouseTag">definition</a>,<a href="http://windows.live.com/connect/tag/purposes" rel="clubhouseTag">purposes</a>,<a href="http://windows.live.com/connect/tag/backups" rel="clubhouseTag">backups</a>,<a href="http://windows.live.com/connect/tag/inconsistencies" rel="clubhouseTag">inconsistencies</a>,<a href="http://windows.live.com/connect/tag/blogs" rel="clubhouseTag">blogs</a>,<a href="http://windows.live.com/connect/tag/msdn" rel="clubhouseTag">msdn</a>,<a href="http://windows.live.com/connect/tag/windowsazure" rel="clubhouseTag">windowsazure</a>,<a href="http://windows.live.com/connect/tag/aspx" rel="clubhouseTag">aspx</a>,<a href="http://windows.live.com/connect/tag/csmanage" rel="clubhouseTag">csmanage</a>,<a href="http://windows.live.com/connect/tag/acct" rel="clubhouseTag">acct</a>,<a href="http://windows.live.com/connect/tag/makecert" rel="clubhouseTag">makecert</a>,<a href="http://windows.live.com/connect/tag/serviceName" rel="clubhouseTag">serviceName</a>,<a href="http://windows.live.com/connect/tag/deploymentSlot" rel="clubhouseTag">deploymentSlot</a>,<a href="http://windows.live.com/connect/tag/cfgURI" rel="clubhouseTag">cfgURI</a>,<a href="http://windows.live.com/connect/tag/tempfile" rel="clubhouseTag">tempfile</a>,<a href="http://windows.live.com/connect/tag/byte" rel="clubhouseTag">byte</a>,<a href="http://windows.live.com/connect/tag/bytes" rel="clubhouseTag">bytes</a>,<a href="http://windows.live.com/connect/tag/lblBytes" rel="clubhouseTag">lblBytes</a>,<a href="http://windows.live.com/connect/tag/httpMethod" rel="clubhouseTag">httpMethod</a>,<a href="http://windows.live.com/connect/tag/accessCertificate" rel="clubhouseTag">accessCertificate</a>,<a href="http://windows.live.com/connect/tag/postData" rel="clubhouseTag">postData</a>,<a href="http://windows.live.com/connect/tag/asynchronousResult" rel="clubhouseTag">asynchronousResult</a>,<a href="http://windows.live.com/connect/tag/postStream" rel="clubhouseTag">postStream</a>,<a href="http://windows.live.com/connect/tag/sData" rel="clubhouseTag">sData</a>,<a href="http://windows.live.com/connect/tag/stringBytes" rel="clubhouseTag">stringBytes</a>,<a href="http://windows.live.com/connect/tag/resp" rel="clubhouseTag">resp</a>,<a href="http://windows.live.com/connect/tag/trackingId" rel="clubhouseTag">trackingId</a>,<a href="http://windows.live.com/connect/tag/startPollingOperation" rel="clubhouseTag">startPollingOperation</a>  </p></p></p></div>
