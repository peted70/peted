---
layout: single
title: Windows Phone Mobile VR &ndash; VISR-VR SDK
date: 2016-05-08 18:46
author_profile: true
comments: true
categories: [Unity, unity3d, Universal Apps, UWP, virtual reality, VR, VR, windows, windows phone, windows store]
header:
    teaserlogo: 'assets/images/'
    teaser: 'assets/images/'
---
<p>Since my previous posts on Windows Phone mobile VR <a title="http://peted.azurewebsites.net/windows-phone-mobile-vr-update/" href="http://peted.azurewebsites.net/windows-phone-mobile-vr-update/">http://peted.azurewebsites.net/windows-phone-mobile-vr-update/</a> Microsoft Virtual Academy has published a six-part course called <a href="https://mva.microsoft.com/en-US/training-courses/creating-virtual-and-augmented-reality-apps-on-the-windows-platform-16141?l=E69QrDSGC_8905192797" target="_blank">Creating Virtual and Augmented Reality Apps on the Windows Platform</a> where Louis Deane (VISR-VR CEO) and I discuss Virtual Reality, Augmented Reality and Mixed Reality. We take you from 0-60; from no VR knowledge to where you would have the skills to create a VR app and get it published to the Windows Store  <p><a href="{{ site.baseurl }}/assets/images/2016/05/cover.png"><img title="cover" style="border-left-width: 0px; border-right-width: 0px; background-image: none; border-bottom-width: 0px; padding-top: 0px; padding-left: 0px; display: inline; padding-right: 0px; border-top-width: 0px" border="0" alt="cover" src="{{ site.baseurl }}/assets/images/2016/05/cover_thumb.png" width="734" height="415"></a></p> <p>In module 4 of the course Louis demonstrates the VISR-VR SDK and I’d like to make a quick-start here for those without the time for the course:</p> <p>&nbsp;</p><iframe height="480" src="https://mva.microsoft.com/en-US/training-courses-embed/creating-virtual-and-augmented-reality-apps-on-the-windows-platform-16141/04-Creating-Mobile-VR-Applications-VISR-VR-SDK-Demo-Code-WuFX9fSGC_4905192797" frameborder="0" width="636" allowfullscreen></iframe> <h2>Requirements</h2> <p>You will need to install Unity3D – you can download installers for both Windows and Mac OS X here <a title="http://unity3d.com/get-unity/update" href="http://unity3d.com/get-unity/update">http://unity3d.com/get-unity/update</a>&nbsp;</p> <p>The&nbsp; core product is free to use.</p> <p>VISR-VR SDK – you can clone the git repo here <a title="https://github.com/visr-vr/visr-vr-sdk/" href="https://github.com/visr-vr/visr-vr-sdk/">https://github.com/visr-vr/visr-vr-sdk/</a> or download the Unity package from here <a title="http://visr-vr.com/developer/" href="http://visr-vr.com/developer/">http://visr-vr.com/developer/</a></p> <p>A mobile VR viewer of some kind – VISR have good range you can order from here <a title="http://visr-vr.com/shop/" href="http://visr-vr.com/shop/">http://visr-vr.com/shop/</a> . They range from basic cardboard up to more sturdy Pro options</p> <h2>Import Packages into Unity</h2> <p>First, create a new project in Unity</p> <p><a href="{{ site.baseurl }}/assets/images/2016/05/new-project.png"><img title="new project" style="border-left-width: 0px; border-right-width: 0px; background-image: none; border-bottom-width: 0px; padding-top: 0px; padding-left: 0px; display: inline; padding-right: 0px; border-top-width: 0px" border="0" alt="new project" src="{{ site.baseurl }}/assets/images/2016/05/new-project_thumb.png" width="741" height="259"></a></p> <p>followed by</p> <p><a href="{{ site.baseurl }}/assets/images/2016/05/createproject.png"><img title="createproject" style="border-left-width: 0px; border-right-width: 0px; background-image: none; border-bottom-width: 0px; padding-top: 0px; padding-left: 0px; display: inline; padding-right: 0px; border-top-width: 0px" border="0" alt="createproject" src="{{ site.baseurl }}/assets/images/2016/05/createproject_thumb.png" width="736" height="437"></a></p> <p>Then import the VISR SDK Unity package by either dragging and dropping it onto your assets folder or use the Unity Assets menu to import a custom package.</p> <p><a href="{{ site.baseurl }}/assets/images/2016/05/import-visr.png"><img title="import-visr" style="border-left-width: 0px; border-right-width: 0px; background-image: none; border-bottom-width: 0px; padding-top: 0px; padding-left: 0px; display: inline; padding-right: 0px; border-top-width: 0px" border="0" alt="import-visr" src="{{ site.baseurl }}/assets/images/2016/05/import-visr_thumb.png" width="742" height="496"></a>.</p> <p>Followed by</p> <p><a href="{{ site.baseurl }}/assets/images/2016/05/import.png"><img title="import" style="border-left-width: 0px; border-right-width: 0px; background-image: none; border-bottom-width: 0px; padding-top: 0px; padding-left: 0px; display: inline; padding-right: 0px; border-top-width: 0px" border="0" alt="import" src="{{ site.baseurl }}/assets/images/2016/05/import_thumb.png" width="735" height="507"></a></p> <p>You should now have the VISR folder in your Assets folder:</p> <p><a href="{{ site.baseurl }}/assets/images/2016/05/sdk.png"><img title="sdk" style="border-left-width: 0px; border-right-width: 0px; background-image: none; border-bottom-width: 0px; padding-top: 0px; padding-left: 0px; display: inline; padding-right: 0px; border-top-width: 0px" border="0" alt="sdk" src="{{ site.baseurl }}/assets/images/2016/05/sdk_thumb.png" width="732" height="495"></a></p> <p>Notice that there are some scripts, some prefabs and some images, etc. If you want to explore the code and see how the head tracking or rendering works it is all here to see. </p> <p>Now, let’s pull in the example scene which is the same one we use in the course. The file visr-sdk-example-content-1.0.1.unitypackage can be dragged into the Assets folder in the same way that we brought the SDK in. Once done the Assets folder should resemble the image below:</p> <p><a href="{{ site.baseurl }}/assets/images/2016/05/assets.png"><img title="assets" style="border-left-width: 0px; border-right-width: 0px; background-image: none; border-bottom-width: 0px; padding-top: 0px; padding-left: 0px; display: inline; padding-right: 0px; border-top-width: 0px" border="0" alt="assets" src="{{ site.baseurl }}/assets/images/2016/05/assets_thumb.png" width="727" height="550"></a></p> <p>You can then drag the ExampleScene into your current scene and you can remove the existing directional light and existing main camera (as the example scene has a VR camera set up already).</p> <p><a href="{{ site.baseurl }}/assets/images/2016/05/testscene.png"><img title="testscene" style="border-left-width: 0px; border-right-width: 0px; background-image: none; border-bottom-width: 0px; padding-top: 0px; padding-left: 0px; display: inline; padding-right: 0px; border-top-width: 0px" border="0" alt="testscene" src="{{ site.baseurl }}/assets/images/2016/05/testscene_thumb.png" width="732" height="522"></a></p> <p>&nbsp;</p> <p>In the course video Louis builds the items up by dragging prefabs into the main scene but this is all now setup so it’s worth pausing here for a minute to take a look to see what we now have:</p> <h3>Tracking System</h3> <p>The tracking system represents the viewing position and orientation and is set up to represent a viewers head – also other geometry could be attached here such as hands + feet which will be positioned relative to the tracking system. If you are unfamiliar with mobile head tracking please see <a title="http://peted.azurewebsites.net/windows-phone-mobile-vr-gyro-head-tracking-in-unity3d/" href="http://peted.azurewebsites.net/windows-phone-mobile-vr-gyro-head-tracking-in-unity3d/">http://peted.azurewebsites.net/windows-phone-mobile-vr-gyro-head-tracking-in-unity3d/</a></p> <h3>VRCamera</h3> <p>The VRCamera takes care of stereoscopic rendering and lens distortion correction (for more details on those topics please see <a title="http://peted.azurewebsites.net/windows-phone-mobile-vr-stereoscopic-rendering-lens-distortion-in-unity-3d/" href="http://peted.azurewebsites.net/windows-phone-mobile-vr-stereoscopic-rendering-lens-distortion-in-unity-3d/">http://peted.azurewebsites.net/windows-phone-mobile-vr-stereoscopic-rendering-lens-distortion-in-unity-3d/</a>). If you select the VRCamera in the scene and in the property inspector find the setting ‘Disable Stereo in Editor’ and uncheck it then you can view and experiment with the settings for the rendering such as the inter-pupillary distance (IPD) and the coefficients of distortion. .</p> <p><a href="{{ site.baseurl }}/assets/images/2016/05/stereoscopic.png"><img title="stereoscopic" style="border-left-width: 0px; border-right-width: 0px; background-image: none; border-bottom-width: 0px; padding-top: 0px; padding-left: 0px; display: inline; padding-right: 0px; border-top-width: 0px" border="0" alt="stereoscopic" src="{{ site.baseurl }}/assets/images/2016/05/stereoscopic_thumb.png" width="733" height="652"></a></p> <p>&nbsp;</p> <h3>Stacked Bottles</h3> <p>The bottles are set up as rigid bodies and configured such that tapping the mobile screen when the aim ray is pointing at them will apply a force and knock them over.</p> <p>&nbsp;</p> <h2>Deploy to a Windows Phone</h2> <p>Select the Unity command File &gt; Build Settings which will invoke the following dialog:</p> <p><a href="{{ site.baseurl }}/assets/images/2016/05/buildsettings.png"><img title="buildsettings" style="border-left-width: 0px; border-right-width: 0px; background-image: none; border-bottom-width: 0px; padding-top: 0px; padding-left: 0px; display: inline; padding-right: 0px; border-top-width: 0px" border="0" alt="buildsettings" src="{{ site.baseurl }}/assets/images/2016/05/buildsettings_thumb.png" width="734" height="678"></a></p> <p>Click on ‘Add Open Scenes’ and select the Windows Store option and choose Universal 10, XAML and hit Build. Unity will then prompt you for an output folder location and then will generate a Visual Studio project which you can build and debug on a Windows 10 mobile or desktop. The screenshot below shows the resulting project opened in Visual Studio 2015.</p> <p><a href="{{ site.baseurl }}/assets/images/2016/05/vsproj.png"><img title="vsproj" style="border-left-width: 0px; border-right-width: 0px; background-image: none; border-bottom-width: 0px; padding-top: 0px; padding-left: 0px; display: inline; padding-right: 0px; border-top-width: 0px" border="0" alt="vsproj" src="{{ site.baseurl }}/assets/images/2016/05/vsproj_thumb.png" width="728" height="472"></a></p> <p>and finally some screenshots of the example VR scene running on my Lumia 950 XL:</p> <p><a href="{{ site.baseurl }}/assets/images/2016/05/wp_ss_20160508_0002.png"><img title="wp_ss_20160508_0002" style="border-left-width: 0px; border-right-width: 0px; background-image: none; border-bottom-width: 0px; padding-top: 0px; padding-left: 0px; display: inline; padding-right: 0px; border-top-width: 0px" border="0" alt="wp_ss_20160508_0002" src="{{ site.baseurl }}/assets/images/2016/05/wp_ss_20160508_0002_thumb.png" width="730" height="412"></a></p> <p>and from inside the cardboard headset:</p> <p><a href="{{ site.baseurl }}/assets/images/2016/05/hmd.jpg"><img title="hmd" style="border-left-width: 0px; border-right-width: 0px; background-image: none; border-bottom-width: 0px; padding-top: 0px; padding-left: 0px; display: inline; padding-right: 0px; border-top-width: 0px" border="0" alt="hmd" src="{{ site.baseurl }}/assets/images/2016/05/hmd_thumb.jpg" width="731" height="414"></a></p> <p>Hopefully, you can see how straight-forward it is to get your mobile vr ideas up and running – check out the MVA final module for details of how to submit your completed vr game or demo to the Windows Store.</p>
